function CookieParser(){}function Localizer(){this.data,this.locales=["fr","en"]}function Router(){this.DEFAULT="home"}CookieParser.prototype.setCookie=function(a,b){document.cookie=a+"="+b+";"},CookieParser.prototype.getCookies=function(){var a=document.cookie;if(0==a.length)return!1;for(var b=a.split(";"),c={},d=0;d<b.length;d++){var e=b[d].split("="),f=e[0].replace(/\s+/g,"");c[f]=e[1]}return c},CookieParser.prototype.getCookie=function(a){var b=document.cookie;if(0==b.length)return!1;for(var c=b.split(";"),d=0;d<c.length;d++){var e=c[d].split("="),f=e[0].replace(/\s+/g,"");if(f==a)return e[1]}},Localizer.prototype.setLocale=function(a){var b=this.locales.indexOf(cookieParser.getCookies().locale),c=b==this.locales.length-1?0:b+1;a=this.locales[c],cookieParser.setCookie("locale",a)},Localizer.prototype.getTranslation=function(a,b){var c=this;a?a=a:cookieParser.getCookies()&&cookieParser.getCookies().locale?a=this.currentLocale():(cookieParser.setCookie("locale","en"),a="en"),$.getJSON("/api/localizer/"+a,function(a){c.data=a,b()})},Localizer.prototype.localizeView=function(a){this.localizeNode(a)},Localizer.prototype.localizeNode=function(a){if(a=$(a),a.children().length>0)for(var b=0;b<a.children().length;b++)this.localizeNode(a.children()[b]);a.is("script")||a.is("body")||a.data("lzr-id")&&a.text(this.findWord(a.data("lzr-id"),this.data))},Localizer.prototype.findWord=function(a,b){var c=a.split(".");if(c.length>1){for(var d=0;d<c.length;d++)b=b[c[d]];return b}return b[a]},Localizer.prototype.currentLocale=function(){return cookieParser.getCookies().locale},riot.tag2("menubar",'<div class="menu blue"><div class="collapse-toggle" onclick="{openMenu}"><i class="fa fa-align-justify" aria-hidden="true"></i></div><ul><li><a data-view="home" data-lzr-id="menu.home"></a></li><li><a data-view="page1" data-lzr-id="menu.products"></a></li><li><a data-view="page2" data-lzr-id="menu.about"></a></li><li class="dropdown"><p>Dropdown</p><ul class="dd-content"><li><a>Super Mega Long Texte</a></li><li><a>Second</a></li></ul></li></ul><ul class="pull-right"><li><a class="locale" onclick="{changeLocale}">{locale}</a></li></ul><div class="clear"></div></div>',"","",function(a){var b=this;this.on("mount",function(){for(var a=$(".menu ul li:not(.dropdown) a"),c=0;c<a.length;c++)$(a[c]).on("click",function(){router.goTo($(this).data("view"))});b.locale=localizer.currentLocale().toUpperCase(),b.update()}),this.openMenu=function(a){var b=$(".menu>ul");b.is(":visible")?(b.css("display","none"),$(".collapse-toggle").css("color","white")):(b.css("display","block"),$(".collapse-toggle").css("color","#0844CF"))}.bind(this),this.changeLocale=function(a){localizer.setLocale(),localizer.getTranslation(null,function(){b.locale=localizer.currentLocale().toUpperCase(),b.update(),localizer.localizeView("body")})}.bind(this)}),riot.tag2("slideshow",'<div class="normal" id="container"><img class="slide" src="public/images/slideshow/slide1.jpg"><img class="slide" src="public/images/slideshow/slide2.jpg"><img class="slide" src="public/images/slideshow/slide1.jpg"><img class="slide" src="public/images/slideshow/slide2.jpg"><i class="button left fa fa-chevron-left" aria-hidden="true"></i><i class="button right fa fa-chevron-right" aria-hidden="true"></i><div id="dots"></div></div>',"","",function(a){var b,c=0;this.on("mount",function(){b=$("#container img.slide").length;for(var a=0;a<b;a++){var d=$("#dots").append("<i class='fa fa-circle' data-index='"+a+"'/>");d.find("i").last().on("click",function(){$("#container img.slide").eq(c).removeClass("visible"),c=$(this).data("index"),$("#container #dots").find(".current").removeClass("current"),$(this).addClass("current"),$("#container img.slide").eq($(this).data("index")).addClass("visible")})}$("#container img.slide").eq(c).addClass("visible"),$("#container #dots i").eq(c).addClass("current"),$(".button.left").on("click",function(){$("#container img.slide").eq(c).removeClass("visible"),c-1<0?c=b-1:c--,$("#container img.slide").eq(c).addClass("visible"),$("#container #dots").find(".current").removeClass("current"),$("#container #dots i").eq(c).addClass("current")}),$(".button.right").on("click",function(){$("#container img.slide").eq(c).removeClass("visible"),c+1>b-1?c=0:c++,$("#container img.slide").eq(c).addClass("visible"),$("#container #dots").find(".current").removeClass("current"),$("#container #dots i").eq(c).addClass("current")})})}),riot.tag2("home","<slideshow></slideshow>","","",function(a){}),riot.tag2("script","riot.mount('slideshow', {});","","",function(a){}),riot.tag2("page1","<p>Page 1</p>","","",function(a){}),riot.tag2("page2","<p>Page 2</p>","","",function(a){}),Router.prototype.init=function(){var a=cookieParser.getCookie("view");a?currentView=riot.mount("#main",a)[0]:(a=this.DEFAULT,currentView=riot.mount("#main",a)[0]),window.history.pushState("","","/"+a),cookieParser.setCookie("view",a)},Router.prototype.goTo=function(a){a&&(console.log("Changing to view : "+a),currentView.unmount(!0),currentView=riot.mount("#main",a)[0],window.history.pushState("","","/"+a),cookieParser.setCookie("view",a))};